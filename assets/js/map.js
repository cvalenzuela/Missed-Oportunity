/**

Main File for the Visualization

*/

// Show everything once all data is loaded
// Pace.on('done', function() {
//     if(document.documentElement.clientWidth < 930){
//       document.getElementById("unsupported").style.display = "block";
//       document.getElementById("content").style.display = "none";
//     }
//     else{
//       document.getElementById("content").style.display = "block";
//       document.getElementById("unsupported").style.display = "none";
//     }
//  });

// Change the Sound Icon
// function soundOnOff(){
//   console.log("here")
//     if (soundIcon.alt == "soundOn"){
//       soundIcon.alt = "soundOff";
//       soundIcon.src = "./assets/imgs/sound_off.png"
//       sound.pause();
//     }
//     else if (soundIcon.alt == "soundOff"){
//       soundIcon.alt= "soundOn";
//       soundIcon.src = "./assets/imgs/sound_on.png"
//       sound.play();
//     }
// }

/*== Select the View depending on the Current Chapter ==*/
function changeChapter(){


  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH2: Animation ///////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if(currentChapter == 2){

  }

  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH3: Slavery in the Wolrd ////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if(currentChapter == 3){


  }

  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH4: The US: Part One ////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if(currentChapter == 4){



  }

  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH5: The US: Part Two ////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if (currentChapter == 5){

  }

  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH6: Military Bases in the World /////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if(currentChapter == 6){


  }

  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH7: The FAR /////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if(currentChapter == 7){

    // Show Graph
    setTimeout(function(){
      document.getElementById("d3-2").style.display = 'block';
      document.getElementById("d3-2").setAttribute("class", "animated fadeIn chapterDescriptionOne");
      textAnimation();
    },5000);

  }

  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH8: What can Govermens Do? //////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if(currentChapter == 8){

    // Hide the previuos D3 Chart
    document.getElementById("d3-2").style.display = 'none';
    title.setAttribute("class", "animated fadeOut");
    descriptionOne.setAttribute("class", "animated fadeOut");
    descriptionTwo.setAttribute("class", "animated fadeOut");
    document.getElementById("thePoint").style.display = 'none';

    // Show final image
    document.getElementById('finalImage').setAttribute("class", "animated fadeIn chapterName");
    document.getElementById('finalImage').style.display = 'block'

    // Bar
    bar.animate(0.9);

    // Make the point
    setTimeout(function(){
      none.style.display = 'inline-block';
      none.setAttribute("class", "animated fadeIn");
    },3000);
    setTimeout(function(){
      thePoint.style.display = 'inline-block';
      thePoint.setAttribute("class", "thePoint animated fadeIn chapterName");
    },5000);

    //In case of going backwards
    credits.style.display = 'none';

  }

  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  ////////////////////// CH9: The End /////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////////////////////////////////

  else if(currentChapter == 9){

    // Hide the previuos text
    document.getElementById("navegation").setAttribute("class", "row text-center animated fadeOut");
    document.getElementById("d3-2").style.display = 'none';
    title.setAttribute("class", "animated fadeOut");
    descriptionOne.setAttribute("class", "animated fadeOut");
    descriptionTwo.setAttribute("class", "animated fadeOut");
    document.getElementById("thePoint").style.display = 'none';

    // Show the Credits
    setTimeout(function(){
      credits.style.display = 'block';
      credits.setAttribute("class", "animated fadeIn");
    },2000);

    // Hide final image
    document.getElementById('finalImage').setAttribute("class", "animated fadeOut chapterName");

    // Hide the menu bar
    document.getElementById('description').setAttribute("class", "animated fadeOut chapterName");

    // Bar
    bar.animate(1);

    // Layouts
    map.setPaintProperty("satellite", 'raster-opacity', 0.2);
    map.setPaintProperty("water", 'fill-opacity', 0.2);
    map.setPaintProperty("admin-2-boundaries", 'line-opacity', 0.2);
  }

}
